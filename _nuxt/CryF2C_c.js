import{j as z,r as f,k as C,l as b,b as _,e as t,d as e,t as o,u as i,F as G,h as $,o as d}from"./D_wvqvhw.js";import{u as F}from"./BCeYAzYE.js";function O(){const{public:{gitHubBaseURL:a}}=z();async function n(s){return await $fetch(`repos/${s}/stats/contributors`,{baseURL:a,method:"GET",headers:{"X-GitHub-Api-Version":"2022-11-28"}})}async function r(s){return await $fetch(`repos/${s}`,{baseURL:a,method:"GET",headers:{"X-GitHub-Api-Version":"2022-11-28"}})}async function l(s){return await $fetch(`orgs/${s}`,{baseURL:a,method:"GET",headers:{"X-GitHub-Api-Version":"2022-11-28"}})}return{getContributorStats:n,getRepository:r,getOrganization:l}}const R={class:"container"},T={class:"organization"},x=t("h2",null,"Fetch Once - Server or Client",-1),A=t("strong",null,"Organization:",-1),B=t("br",null,null,-1),H=t("strong",null,"Public repositories count:",-1),S={class:"repository"},V=t("h2",null,"Fetch Once - Only Client",-1),k=t("strong",null,"Repository:",-1),E=t("br",null,null,-1),N=t("strong",null,"Description:",-1),D=t("h2",null,"Fetch Twice - Server and Client",-1),L={class:"contributors"},X={class:"contributor"},U=["src"],j=t("strong",null,"Total commits:",-1),v="mouseless",J={__name:"fetching-data",async setup(a){let n,r;const{getContributorStats:l,getRepository:s,getOrganization:w}=O(),h=`${v}/learn-nuxt`,u=f([]),g=f(),{data:p}=([n,r]=C(async()=>F("organization",async()=>await w(v))),n=await n,r(),n);return b(async()=>u.value=await s(h)),b(async()=>g.value=await l(h)),(M,P)=>{var m,y;return d(),_("div",R,[t("div",T,[x,t("div",null,[A,e(" "+o(i(p).name)+" ",1),B,H,e(" "+o(i(p).public_repos),1)])]),t("div",S,[V,t("div",null,[k,e(" "+o((m=i(u))==null?void 0:m.name)+" ",1),E,N,e(" "+o((y=i(u))==null?void 0:y.description),1)])]),t("div",null,[D,t("div",L,[(d(!0),_(G,null,$(i(g),c=>(d(),_("div",{key:c.author.login},[t("div",X,[t("img",{class:"profile-image",src:c.author.avatar_url},null,8,U),t("h3",null,o(c.author.login),1),t("p",null,[j,e(" "+o(c.total),1)])])]))),128))])])])}}};export{J as default};
