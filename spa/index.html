<!DOCTYPE html><html  data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SPA</title>
<link rel="stylesheet" type="text/css" href="https://brand.mouseless.codes/assets/css/default.css">
<link rel="stylesheet" href="/learn-nuxt/_nuxt/default.DXXN44yv.css">
<link rel="stylesheet" href="/learn-nuxt/_nuxt/ProseCode.CchFRBtv.css">
<link rel="stylesheet" href="/learn-nuxt/_nuxt/ProseBlockquote.CLgzhlr6.css">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/DrU2srZ_.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/_30CMpxa.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/xT7EOfXl.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/BXzv3ph8.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/Cd5bYV-E.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/EISpx_Gq.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/CujTXLxk.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/Cs6n62yY.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/BMpIhKWy.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/BKDeCCLg.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/BuGaP1ea.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/BXTdRg1Q.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/C-v3KzvZ.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/Dnd51l0P.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/DBAyNHB4.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/COsVCiMt.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/C-A2r0Aj.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/BbBICLwl.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/CoLso0fv.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/Dw8I3brW.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/DLnrwyy7.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/EzwzsJB6.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/uHdJBBcD.js">
<link rel="modulepreload" as="script" crossorigin href="/learn-nuxt/_nuxt/Cbj3TCFO.js">
<meta property="og:description" content="Welcome to mouseless">
<meta property="og:image" content="https://mouseless.github.io/learn-nuxt/favicon.ico">
<meta property="og:image:width" content="50">
<meta property="og:image:height" content="50">
<link rel="icon" type="image/x-icon" href="/learn-nuxt/favicon.ico">
<meta property="og:title" content="SPA">
<meta name="description" content="Running Nuxt as a single-page application (SPA) is pretty straightforward, but
there are a couple of challenges.">
<meta property="og:description" content="Running Nuxt as a single-page application (SPA) is pretty straightforward, but
there are a couple of challenges.">
<script type="module" src="/learn-nuxt/_nuxt/DrU2srZ_.js" crossorigin></script></head><body><div id="__nuxt"><!--[--><header data-v-6ebe05b3><div class="logo" data-v-6ebe05b3><a href="/learn-nuxt/" class="" data-v-6ebe05b3><img class="mouseless logo" data-v-6ebe05b3></a><a href="https://nuxt.com" rel="noopener noreferrer" target="_blank" data-v-6ebe05b3><img class="nuxt logo" data-v-6ebe05b3></a></div><nav data-v-6ebe05b3><!--[--><!--[--><a href="/learn-nuxt/content" class="left" data-v-6ebe05b3>Content</a><a href="/learn-nuxt/pages" class="left" data-v-6ebe05b3>Pages</a><a href="/learn-nuxt/vue-files" class="left" data-v-6ebe05b3>Vue Files</a><a href="/learn-nuxt/routing" class="left" data-v-6ebe05b3>Routing</a><a href="/learn-nuxt/components" class="left" data-v-6ebe05b3>Components</a><a href="/learn-nuxt/network" class="left" data-v-6ebe05b3>Network</a><a class="left" data-v-6ebe05b3>SPA</a><a href="/learn-nuxt/configuration" class="left" data-v-6ebe05b3>Configuration</a><a href="/learn-nuxt/setup-guide" class="right" data-v-6ebe05b3>Setup Guide</a><a href="/learn-nuxt/build-and-run" class="right" data-v-6ebe05b3>Build &amp; Run</a><a href="/learn-nuxt/contributing" class="right" data-v-6ebe05b3>Contributing</a><a href="/learn-nuxt/migrations" class="right" data-v-6ebe05b3>Migrations</a><!--]--><!--]--></nav></header><article data-v-6ebe05b3><!--[--><!--[--><div><h1 id="spa"><!--[-->SPA<!--]--></h1><p><!--[-->Running Nuxt as a single-page application (SPA) is pretty straightforward, but
there are a couple of challenges.<!--]--><!----></p><h2 id="configuration"><!--[-->Configuration<!--]--></h2><p><!--[-->Enable SPA mode by simply setting the <code class=""><!--[-->ssr<!--]--></code> config to <code class=""><!--[-->false<!--]--></code>. This disables
server-side rendering.<!--]--><!----></p><!--[--><pre class="language-typescript shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#C586C0">export</span><span style="--shiki-default:#C586C0"> default</span><span style="--shiki-default:#DCDCAA"> defineNuxtConfig</span><span style="--shiki-default:#E6E6E6">({
</span></span><span class="line" line="2"><span style="--shiki-default:#D4D4D4">  ...
</span></span><span class="line" line="3"><span style="--shiki-default:#9CDCFE">  ssr</span><span style="--shiki-default:#E6E6E6">: </span><span style="--shiki-default:#569CD6">false</span><span style="--shiki-default:#E6E6E6">,
</span></span><span class="line" line="4"><span style="--shiki-default:#D4D4D4">  ...
</span></span><span class="line" line="5"><span style="--shiki-default:#E6E6E6">});
</span></span></code><!--]--></pre><!--]--><h2 id="build"><!--[-->Build<!--]--></h2><p><!--[-->Apparently, <code class=""><!--[-->nuxi build<!--]--></code> only works if you have Node.js in the backend. Since it
is a single page application, we shouldn&#39;t require it on the server side. To
statically serve an SPA from any HTTP server, we&#39;ll use <code class=""><!--[-->nuxi generate<!--]--></code> like we
do in static sites.<!--]--><!----></p><!--[--><pre class="language-json shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E6E6E6">{
</span></span><span class="line" line="2"><span style="--shiki-default:#F44747">  ...
</span></span><span class="line" line="3"><span style="--shiki-default:#9CDCFE">  &quot;scripts&quot;</span><span style="--shiki-default:#E6E6E6">: {
</span></span><span class="line" line="4"><span style="--shiki-default:#F44747">    ...
</span></span><span class="line" line="5"><span style="--shiki-default:#9CDCFE">    &quot;build&quot;</span><span style="--shiki-default:#E6E6E6">: </span><span style="--shiki-default:#CE9178">&quot;nuxi generate&quot;</span><span style="--shiki-default:#E6E6E6">,
</span></span><span class="line" line="6"><span style="--shiki-default:#F44747">    ...
</span></span><span class="line" line="7"><span style="--shiki-default:#E6E6E6">  },
</span></span><span class="line" line="8"><span style="--shiki-default:#F44747">  ...
</span></span><span class="line" line="9"><span style="--shiki-default:#E6E6E6">}
</span></span></code><!--]--></pre><!--]--><blockquote class="info" data-v-afd099df><!--[--><p><!--[-->We named it as <code class=""><!--[-->build<!--]--></code> not <code class=""><!--[-->generate<!--]--></code>, because for us there is no use case
where we require both <code class=""><!--[-->nuxi generate<!--]--></code> and <code class=""><!--[-->nuxi build<!--]--></code>. Since <code class=""><!--[-->build<!--]--></code> is a
general term for building the application for production, we stuck with that.<!--]--><!----></p><!--]--></blockquote><h2 id="loading-page"><!--[-->Loading Page<!--]--></h2><p><!--[-->By disabling <code class=""><!--[-->ssr<!--]--></code>, <code class=""><!--[-->nuxi generate<!--]--></code> no more generates static pages per route.
However, it still generates an <code class=""><!--[-->index.html<!--]--></code> at the root, which will load the app
on the client-side. To inform user with a loading page, Nuxt allows you to show
a loading page in the <code class=""><!--[-->index.html<!--]--></code> by placing a file called
<code class=""><!--[-->spa-loading-template.html<!--]--></code> in <code class=""><!--[-->./app<!--]--></code> folder at the root of your project. See
<a href="https://nuxt.com/docs/api/nuxt-config#spaloadingtemplate" rel="nofollow"><!--[-->Nuxt Configuration / spaLoadingTemplate<!--]--></a> for the detailed explanation and a
sample template.<!--]--><!----></p><!--[--><pre class="language-bash shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#DCDCAA">-</span><span style="--shiki-default:#CE9178"> .</span><span style="--shiki-default:#E6E6E6"> (root)
</span></span><span class="line" line="2"><span style="--shiki-default:#D4D4D4"> |</span><span style="--shiki-default:#DCDCAA">_</span><span style="--shiki-default:#CE9178"> /app
</span></span><span class="line" line="3"><span style="--shiki-default:#D4D4D4">   |</span><span style="--shiki-default:#DCDCAA">_</span><span style="--shiki-default:#CE9178"> spa-loading-template.html
</span></span></code><!--]--></pre><!--]--><blockquote class="info" data-v-afd099df><!--[--><p><!--[-->Notice this template file is only partial. Nuxt will render it within the
generated <code class=""><!--[-->index.html<!--]--></code> file. So, don&#39;t wrap it with <code class=""><!--[-->&lt;html&gt;<!--]--></code> and <code class=""><!--[-->&lt;body&gt;<!--]--></code>
tags.<!--]--><!----></p><!--]--></blockquote><h2 id="deploy"><!--[-->Deploy<!--]--></h2><p><!--[-->After the <code class=""><!--[-->nuxi generate<!--]--></code> script runs, it outputs the static files under
<code class=""><!--[-->.output/public<!--]--></code> by default. When you configure your server to serve those
files, you are done.<!--]--><!----></p><p><!--[-->Below you can see a <code class=""><!--[-->Dockerfile<!--]--></code> that builds an app under <code class=""><!--[-->src/my-app<!--]--></code> folder,
and then deploy and serve it using an <code class=""><!--[-->nginx<!--]--></code> server instance.<!--]--><!----></p><!--[--><pre class="language-dockerfile shiki shiki-themes slack-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6A9955"># syntax=docker/dockerfile:1.7-labs
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">FROM</span><span style="--shiki-default:#E6E6E6"> node:22-bullseye </span><span style="--shiki-default:#569CD6">AS</span><span style="--shiki-default:#E6E6E6"> build
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span style="--shiki-default:#6A9955"># first copy only package.json and package-lock.json to cache after downloading
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955"># packages
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">COPY</span><span style="--shiki-default:#E6E6E6"> --parents src/my-app/package.json .
</span></span><span class="line" line="8"><span style="--shiki-default:#569CD6">COPY</span><span style="--shiki-default:#E6E6E6"> --parents src/my-app/package-lock.json .
</span></span><span class="line" line="9"><span style="--shiki-default:#569CD6">RUN</span><span style="--shiki-default:#E6E6E6"> cd src/my-app ; npm install
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#6A9955"># copy rest of the app while keeping the folder structure
</span></span><span class="line" line="12"><span style="--shiki-default:#569CD6">COPY</span><span style="--shiki-default:#E6E6E6"> --parents src/my-app/ .
</span></span><span class="line" line="13"><span style="--shiki-default:#569CD6">RUN</span><span style="--shiki-default:#E6E6E6"> cd src/my-app ; npm run build:development
</span></span><span class="line" line="14"><span emptylineplaceholder="true">
</span></span><span class="line" line="15"><span style="--shiki-default:#569CD6">FROM</span><span style="--shiki-default:#E6E6E6"> nginx </span><span style="--shiki-default:#569CD6">AS</span><span style="--shiki-default:#E6E6E6"> final
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span style="--shiki-default:#6A9955"># bring output from `build` phase
</span></span><span class="line" line="18"><span style="--shiki-default:#569CD6">COPY</span><span style="--shiki-default:#E6E6E6"> --from=build src/my-app/.output/public /www/public
</span></span><span class="line" line="19"><span emptylineplaceholder="true">
</span></span><span class="line" line="20"><span style="--shiki-default:#6A9955"># use an inline nginx config to serve static files
</span></span><span class="line" line="21"><span style="--shiki-default:#569CD6">RUN</span><span style="--shiki-default:#E6E6E6"> cat &lt;&lt;EOF &gt; /etc/nginx/nginx.conf
</span></span><span class="line" line="22"><span style="--shiki-default:#E6E6E6">events { }
</span></span><span class="line" line="23"><span style="--shiki-default:#E6E6E6">http {
</span></span><span class="line" line="24"><span style="--shiki-default:#6A9955">  # add output files as root for nginx server
</span></span><span class="line" line="25"><span style="--shiki-default:#E6E6E6">  root /www/public;
</span></span><span class="line" line="26"><span emptylineplaceholder="true">
</span></span><span class="line" line="27"><span style="--shiki-default:#E6E6E6">  server {
</span></span><span class="line" line="28"><span style="--shiki-default:#E6E6E6">    listen 80;
</span></span><span class="line" line="29"><span emptylineplaceholder="true">
</span></span><span class="line" line="30"><span style="--shiki-default:#6A9955">    # include default mime types for js and css files to have proper content
</span></span><span class="line" line="31"><span style="--shiki-default:#6A9955">    # type
</span></span><span class="line" line="32"><span style="--shiki-default:#E6E6E6">    location / {
</span></span><span class="line" line="33"><span style="--shiki-default:#E6E6E6">      include /etc/nginx/mime.types;
</span></span><span class="line" line="34"><span style="--shiki-default:#E6E6E6">    }
</span></span><span class="line" line="35"><span style="--shiki-default:#E6E6E6">  }
</span></span><span class="line" line="36"><span style="--shiki-default:#E6E6E6">}
</span></span><span class="line" line="37"><span style="--shiki-default:#E6E6E6">EOF
</span></span><span class="line" line="38"><span emptylineplaceholder="true">
</span></span><span class="line" line="39"><span style="--shiki-default:#569CD6">CMD</span><span style="--shiki-default:#E6E6E6"> nginx -g </span><span style="--shiki-default:#CE9178">&quot;daemon off;&quot;
</span></span></code><!--]--></pre><!--]--><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><!--]--><!--]--></article><!--]--></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true">[["ShallowReactive",1],{"data":2,"state":1016,"once":1018,"_errors":1019,"serverRendered":610,"path":30,"prerenderedAt":1022,"pinia":1023},["ShallowReactive",3],{"content-query-IHEGqZI4XK":4,"content-query-9cX3S5xTRE":53},[5,9,13,17,21,25,29,33,37,41,45,49],{"_path":6,"title":7,"position":8},"/content","Content",1,{"_path":10,"title":11,"position":12},"/pages","Pages",2,{"_path":14,"title":15,"position":16},"/vue-files","Vue Files",3,{"_path":18,"title":19,"position":20},"/routing","Routing",4,{"_path":22,"title":23,"position":24},"/components","Components",5,{"_path":26,"title":27,"position":28},"/network","Network",6,{"_path":30,"title":31,"position":32},"/spa","SPA",7,{"_path":34,"title":35,"position":36},"/configuration","Configuration",8,{"_path":38,"title":39,"position":40},"/setup-guide","Setup Guide",100,{"_path":42,"title":43,"position":44},"/build-and-run","Build & Run",101,{"_path":46,"title":47,"position":48},"/contributing","Contributing",102,{"_path":50,"title":51,"position":52},"/migrations","Migrations",103,{"_path":30,"_dir":54,"_draft":55,"_partial":55,"_locale":54,"title":31,"description":56,"position":32,"body":57,"_type":1011,"_id":1012,"_source":1013,"_file":1014,"_stem":64,"_extension":1015},"",false,"Running Nuxt as a single-page application (SPA) is pretty straightforward, but\nthere are a couple of challenges.",{"type":58,"children":59,"toc":1005},"root",[60,68,73,79,101,187,193,214,313,366,372,433,495,532,538,558,587,999],{"type":61,"tag":62,"props":63,"children":65},"element","h1",{"id":64},"spa",[66],{"type":67,"value":31},"text",{"type":61,"tag":69,"props":70,"children":71},"p",{},[72],{"type":67,"value":56},{"type":61,"tag":74,"props":75,"children":77},"h2",{"id":76},"configuration",[78],{"type":67,"value":35},{"type":61,"tag":69,"props":80,"children":81},{},[82,84,91,93,99],{"type":67,"value":83},"Enable SPA mode by simply setting the ",{"type":61,"tag":85,"props":86,"children":88},"code",{"className":87},[],[89],{"type":67,"value":90},"ssr",{"type":67,"value":92}," config to ",{"type":61,"tag":85,"props":94,"children":96},{"className":95},[],[97],{"type":67,"value":98},"false",{"type":67,"value":100},". This disables\nserver-side rendering.",{"type":61,"tag":102,"props":103,"children":107},"pre",{"className":104,"code":105,"language":106,"meta":54,"style":54},"language-typescript shiki shiki-themes slack-dark","export default defineNuxtConfig({\n  ...\n  ssr: false,\n  ...\n});\n","typescript",[108],{"type":61,"tag":85,"props":109,"children":110},{"__ignoreMap":54},[111,139,148,172,179],{"type":61,"tag":112,"props":113,"children":115},"span",{"class":114,"line":8},"line",[116,122,127,133],{"type":61,"tag":112,"props":117,"children":119},{"style":118},"--shiki-default:#C586C0",[120],{"type":67,"value":121},"export",{"type":61,"tag":112,"props":123,"children":124},{"style":118},[125],{"type":67,"value":126}," default",{"type":61,"tag":112,"props":128,"children":130},{"style":129},"--shiki-default:#DCDCAA",[131],{"type":67,"value":132}," defineNuxtConfig",{"type":61,"tag":112,"props":134,"children":136},{"style":135},"--shiki-default:#E6E6E6",[137],{"type":67,"value":138},"({\n",{"type":61,"tag":112,"props":140,"children":141},{"class":114,"line":12},[142],{"type":61,"tag":112,"props":143,"children":145},{"style":144},"--shiki-default:#D4D4D4",[146],{"type":67,"value":147},"  ...\n",{"type":61,"tag":112,"props":149,"children":150},{"class":114,"line":16},[151,157,162,167],{"type":61,"tag":112,"props":152,"children":154},{"style":153},"--shiki-default:#9CDCFE",[155],{"type":67,"value":156},"  ssr",{"type":61,"tag":112,"props":158,"children":159},{"style":135},[160],{"type":67,"value":161},": ",{"type":61,"tag":112,"props":163,"children":165},{"style":164},"--shiki-default:#569CD6",[166],{"type":67,"value":98},{"type":61,"tag":112,"props":168,"children":169},{"style":135},[170],{"type":67,"value":171},",\n",{"type":61,"tag":112,"props":173,"children":174},{"class":114,"line":20},[175],{"type":61,"tag":112,"props":176,"children":177},{"style":144},[178],{"type":67,"value":147},{"type":61,"tag":112,"props":180,"children":181},{"class":114,"line":24},[182],{"type":61,"tag":112,"props":183,"children":184},{"style":135},[185],{"type":67,"value":186},"});\n",{"type":61,"tag":74,"props":188,"children":190},{"id":189},"build",[191],{"type":67,"value":192},"Build",{"type":61,"tag":69,"props":194,"children":195},{},[196,198,204,206,212],{"type":67,"value":197},"Apparently, ",{"type":61,"tag":85,"props":199,"children":201},{"className":200},[],[202],{"type":67,"value":203},"nuxi build",{"type":67,"value":205}," only works if you have Node.js in the backend. Since it\nis a single page application, we shouldn't require it on the server side. To\nstatically serve an SPA from any HTTP server, we'll use ",{"type":61,"tag":85,"props":207,"children":209},{"className":208},[],[210],{"type":67,"value":211},"nuxi generate",{"type":67,"value":213}," like we\ndo in static sites.",{"type":61,"tag":102,"props":215,"children":219},{"className":216,"code":217,"language":218,"meta":54,"style":54},"language-json shiki shiki-themes slack-dark","{\n  ...\n  \"scripts\": {\n    ...\n    \"build\": \"nuxi generate\",\n    ...\n  },\n  ...\n}\n","json",[220],{"type":61,"tag":85,"props":221,"children":222},{"__ignoreMap":54},[223,231,239,252,260,282,289,297,304],{"type":61,"tag":112,"props":224,"children":225},{"class":114,"line":8},[226],{"type":61,"tag":112,"props":227,"children":228},{"style":135},[229],{"type":67,"value":230},"{\n",{"type":61,"tag":112,"props":232,"children":233},{"class":114,"line":12},[234],{"type":61,"tag":112,"props":235,"children":237},{"style":236},"--shiki-default:#F44747",[238],{"type":67,"value":147},{"type":61,"tag":112,"props":240,"children":241},{"class":114,"line":16},[242,247],{"type":61,"tag":112,"props":243,"children":244},{"style":153},[245],{"type":67,"value":246},"  \"scripts\"",{"type":61,"tag":112,"props":248,"children":249},{"style":135},[250],{"type":67,"value":251},": {\n",{"type":61,"tag":112,"props":253,"children":254},{"class":114,"line":20},[255],{"type":61,"tag":112,"props":256,"children":257},{"style":236},[258],{"type":67,"value":259},"    ...\n",{"type":61,"tag":112,"props":261,"children":262},{"class":114,"line":24},[263,268,272,278],{"type":61,"tag":112,"props":264,"children":265},{"style":153},[266],{"type":67,"value":267},"    \"build\"",{"type":61,"tag":112,"props":269,"children":270},{"style":135},[271],{"type":67,"value":161},{"type":61,"tag":112,"props":273,"children":275},{"style":274},"--shiki-default:#CE9178",[276],{"type":67,"value":277},"\"nuxi generate\"",{"type":61,"tag":112,"props":279,"children":280},{"style":135},[281],{"type":67,"value":171},{"type":61,"tag":112,"props":283,"children":284},{"class":114,"line":28},[285],{"type":61,"tag":112,"props":286,"children":287},{"style":236},[288],{"type":67,"value":259},{"type":61,"tag":112,"props":290,"children":291},{"class":114,"line":32},[292],{"type":61,"tag":112,"props":293,"children":294},{"style":135},[295],{"type":67,"value":296},"  },\n",{"type":61,"tag":112,"props":298,"children":299},{"class":114,"line":36},[300],{"type":61,"tag":112,"props":301,"children":302},{"style":236},[303],{"type":67,"value":147},{"type":61,"tag":112,"props":305,"children":307},{"class":114,"line":306},9,[308],{"type":61,"tag":112,"props":309,"children":310},{"style":135},[311],{"type":67,"value":312},"}\n",{"type":61,"tag":314,"props":315,"children":316},"blockquote",{},[317,325],{"type":61,"tag":69,"props":318,"children":319},{},[320],{"type":61,"tag":112,"props":321,"children":322},{},[323],{"type":67,"value":324},"!NOTE",{"type":61,"tag":69,"props":326,"children":327},{},[328,330,335,337,343,345,350,352,357,359,364],{"type":67,"value":329},"We named it as ",{"type":61,"tag":85,"props":331,"children":333},{"className":332},[],[334],{"type":67,"value":189},{"type":67,"value":336}," not ",{"type":61,"tag":85,"props":338,"children":340},{"className":339},[],[341],{"type":67,"value":342},"generate",{"type":67,"value":344},", because for us there is no use case\nwhere we require both ",{"type":61,"tag":85,"props":346,"children":348},{"className":347},[],[349],{"type":67,"value":211},{"type":67,"value":351}," and ",{"type":61,"tag":85,"props":353,"children":355},{"className":354},[],[356],{"type":67,"value":203},{"type":67,"value":358},". Since ",{"type":61,"tag":85,"props":360,"children":362},{"className":361},[],[363],{"type":67,"value":189},{"type":67,"value":365}," is a\ngeneral term for building the application for production, we stuck with that.",{"type":61,"tag":74,"props":367,"children":369},{"id":368},"loading-page",[370],{"type":67,"value":371},"Loading Page",{"type":61,"tag":69,"props":373,"children":374},{},[375,377,382,384,389,391,397,399,404,406,412,414,420,422,431],{"type":67,"value":376},"By disabling ",{"type":61,"tag":85,"props":378,"children":380},{"className":379},[],[381],{"type":67,"value":90},{"type":67,"value":383},", ",{"type":61,"tag":85,"props":385,"children":387},{"className":386},[],[388],{"type":67,"value":211},{"type":67,"value":390}," no more generates static pages per route.\nHowever, it still generates an ",{"type":61,"tag":85,"props":392,"children":394},{"className":393},[],[395],{"type":67,"value":396},"index.html",{"type":67,"value":398}," at the root, which will load the app\non the client-side. To inform user with a loading page, Nuxt allows you to show\na loading page in the ",{"type":61,"tag":85,"props":400,"children":402},{"className":401},[],[403],{"type":67,"value":396},{"type":67,"value":405}," by placing a file called\n",{"type":61,"tag":85,"props":407,"children":409},{"className":408},[],[410],{"type":67,"value":411},"spa-loading-template.html",{"type":67,"value":413}," in ",{"type":61,"tag":85,"props":415,"children":417},{"className":416},[],[418],{"type":67,"value":419},"./app",{"type":67,"value":421}," folder at the root of your project. See\n",{"type":61,"tag":423,"props":424,"children":428},"a",{"href":425,"rel":426},"https://nuxt.com/docs/api/nuxt-config#spaloadingtemplate",[427],"nofollow",[429],{"type":67,"value":430},"Nuxt Configuration / spaLoadingTemplate",{"type":67,"value":432}," for the detailed explanation and a\nsample template.",{"type":61,"tag":102,"props":434,"children":438},{"className":435,"code":436,"language":437,"meta":54,"style":54},"language-bash shiki shiki-themes slack-dark","- . (root)\n |_ /app\n   |_ spa-loading-template.html\n","bash",[439],{"type":61,"tag":85,"props":440,"children":441},{"__ignoreMap":54},[442,460,478],{"type":61,"tag":112,"props":443,"children":444},{"class":114,"line":8},[445,450,455],{"type":61,"tag":112,"props":446,"children":447},{"style":129},[448],{"type":67,"value":449},"-",{"type":61,"tag":112,"props":451,"children":452},{"style":274},[453],{"type":67,"value":454}," .",{"type":61,"tag":112,"props":456,"children":457},{"style":135},[458],{"type":67,"value":459}," (root)\n",{"type":61,"tag":112,"props":461,"children":462},{"class":114,"line":12},[463,468,473],{"type":61,"tag":112,"props":464,"children":465},{"style":144},[466],{"type":67,"value":467}," |",{"type":61,"tag":112,"props":469,"children":470},{"style":129},[471],{"type":67,"value":472},"_",{"type":61,"tag":112,"props":474,"children":475},{"style":274},[476],{"type":67,"value":477}," /app\n",{"type":61,"tag":112,"props":479,"children":480},{"class":114,"line":16},[481,486,490],{"type":61,"tag":112,"props":482,"children":483},{"style":144},[484],{"type":67,"value":485},"   |",{"type":61,"tag":112,"props":487,"children":488},{"style":129},[489],{"type":67,"value":472},{"type":61,"tag":112,"props":491,"children":492},{"style":274},[493],{"type":67,"value":494}," spa-loading-template.html\n",{"type":61,"tag":314,"props":496,"children":497},{},[498,505],{"type":61,"tag":69,"props":499,"children":500},{},[501],{"type":61,"tag":112,"props":502,"children":503},{},[504],{"type":67,"value":324},{"type":61,"tag":69,"props":506,"children":507},{},[508,510,515,517,523,524,530],{"type":67,"value":509},"Notice this template file is only partial. Nuxt will render it within the\ngenerated ",{"type":61,"tag":85,"props":511,"children":513},{"className":512},[],[514],{"type":67,"value":396},{"type":67,"value":516}," file. So, don't wrap it with ",{"type":61,"tag":85,"props":518,"children":520},{"className":519},[],[521],{"type":67,"value":522},"\u003Chtml>",{"type":67,"value":351},{"type":61,"tag":85,"props":525,"children":527},{"className":526},[],[528],{"type":67,"value":529},"\u003Cbody>",{"type":67,"value":531},"\ntags.",{"type":61,"tag":74,"props":533,"children":535},{"id":534},"deploy",[536],{"type":67,"value":537},"Deploy",{"type":61,"tag":69,"props":539,"children":540},{},[541,543,548,550,556],{"type":67,"value":542},"After the ",{"type":61,"tag":85,"props":544,"children":546},{"className":545},[],[547],{"type":67,"value":211},{"type":67,"value":549}," script runs, it outputs the static files under\n",{"type":61,"tag":85,"props":551,"children":553},{"className":552},[],[554],{"type":67,"value":555},".output/public",{"type":67,"value":557}," by default. When you configure your server to serve those\nfiles, you are done.",{"type":61,"tag":69,"props":559,"children":560},{},[561,563,569,571,577,579,585],{"type":67,"value":562},"Below you can see a ",{"type":61,"tag":85,"props":564,"children":566},{"className":565},[],[567],{"type":67,"value":568},"Dockerfile",{"type":67,"value":570}," that builds an app under ",{"type":61,"tag":85,"props":572,"children":574},{"className":573},[],[575],{"type":67,"value":576},"src/my-app",{"type":67,"value":578}," folder,\nand then deploy and serve it using an ",{"type":61,"tag":85,"props":580,"children":582},{"className":581},[],[583],{"type":67,"value":584},"nginx",{"type":67,"value":586}," server instance.",{"type":61,"tag":102,"props":588,"children":592},{"className":589,"code":590,"language":591,"meta":54,"style":54},"language-dockerfile shiki shiki-themes slack-dark","# syntax=docker/dockerfile:1.7-labs\n\nFROM node:22-bullseye AS build\n\n# first copy only package.json and package-lock.json to cache after downloading\n# packages\nCOPY --parents src/my-app/package.json .\nCOPY --parents src/my-app/package-lock.json .\nRUN cd src/my-app ; npm install\n\n# copy rest of the app while keeping the folder structure\nCOPY --parents src/my-app/ .\nRUN cd src/my-app ; npm run build:development\n\nFROM nginx AS final\n\n# bring output from `build` phase\nCOPY --from=build src/my-app/.output/public /www/public\n\n# use an inline nginx config to serve static files\nRUN cat \u003C\u003CEOF > /etc/nginx/nginx.conf\nevents { }\nhttp {\n  # add output files as root for nginx server\n  root /www/public;\n\n  server {\n    listen 80;\n\n    # include default mime types for js and css files to have proper content\n    # type\n    location / {\n      include /etc/nginx/mime.types;\n    }\n  }\n}\nEOF\n\nCMD nginx -g \"daemon off;\"\n","dockerfile",[593],{"type":61,"tag":85,"props":594,"children":595},{"__ignoreMap":54},[596,605,614,637,644,652,660,673,685,698,706,715,728,741,749,771,779,788,801,809,818,831,840,849,858,867,875,884,893,901,910,919,928,937,946,955,963,972,980],{"type":61,"tag":112,"props":597,"children":598},{"class":114,"line":8},[599],{"type":61,"tag":112,"props":600,"children":602},{"style":601},"--shiki-default:#6A9955",[603],{"type":67,"value":604},"# syntax=docker/dockerfile:1.7-labs\n",{"type":61,"tag":112,"props":606,"children":607},{"class":114,"line":12},[608],{"type":61,"tag":112,"props":609,"children":611},{"emptyLinePlaceholder":610},true,[612],{"type":67,"value":613},"\n",{"type":61,"tag":112,"props":615,"children":616},{"class":114,"line":16},[617,622,627,632],{"type":61,"tag":112,"props":618,"children":619},{"style":164},[620],{"type":67,"value":621},"FROM",{"type":61,"tag":112,"props":623,"children":624},{"style":135},[625],{"type":67,"value":626}," node:22-bullseye ",{"type":61,"tag":112,"props":628,"children":629},{"style":164},[630],{"type":67,"value":631},"AS",{"type":61,"tag":112,"props":633,"children":634},{"style":135},[635],{"type":67,"value":636}," build\n",{"type":61,"tag":112,"props":638,"children":639},{"class":114,"line":20},[640],{"type":61,"tag":112,"props":641,"children":642},{"emptyLinePlaceholder":610},[643],{"type":67,"value":613},{"type":61,"tag":112,"props":645,"children":646},{"class":114,"line":24},[647],{"type":61,"tag":112,"props":648,"children":649},{"style":601},[650],{"type":67,"value":651},"# first copy only package.json and package-lock.json to cache after downloading\n",{"type":61,"tag":112,"props":653,"children":654},{"class":114,"line":28},[655],{"type":61,"tag":112,"props":656,"children":657},{"style":601},[658],{"type":67,"value":659},"# packages\n",{"type":61,"tag":112,"props":661,"children":662},{"class":114,"line":32},[663,668],{"type":61,"tag":112,"props":664,"children":665},{"style":164},[666],{"type":67,"value":667},"COPY",{"type":61,"tag":112,"props":669,"children":670},{"style":135},[671],{"type":67,"value":672}," --parents src/my-app/package.json .\n",{"type":61,"tag":112,"props":674,"children":675},{"class":114,"line":36},[676,680],{"type":61,"tag":112,"props":677,"children":678},{"style":164},[679],{"type":67,"value":667},{"type":61,"tag":112,"props":681,"children":682},{"style":135},[683],{"type":67,"value":684}," --parents src/my-app/package-lock.json .\n",{"type":61,"tag":112,"props":686,"children":687},{"class":114,"line":306},[688,693],{"type":61,"tag":112,"props":689,"children":690},{"style":164},[691],{"type":67,"value":692},"RUN",{"type":61,"tag":112,"props":694,"children":695},{"style":135},[696],{"type":67,"value":697}," cd src/my-app ; npm install\n",{"type":61,"tag":112,"props":699,"children":701},{"class":114,"line":700},10,[702],{"type":61,"tag":112,"props":703,"children":704},{"emptyLinePlaceholder":610},[705],{"type":67,"value":613},{"type":61,"tag":112,"props":707,"children":709},{"class":114,"line":708},11,[710],{"type":61,"tag":112,"props":711,"children":712},{"style":601},[713],{"type":67,"value":714},"# copy rest of the app while keeping the folder structure\n",{"type":61,"tag":112,"props":716,"children":718},{"class":114,"line":717},12,[719,723],{"type":61,"tag":112,"props":720,"children":721},{"style":164},[722],{"type":67,"value":667},{"type":61,"tag":112,"props":724,"children":725},{"style":135},[726],{"type":67,"value":727}," --parents src/my-app/ .\n",{"type":61,"tag":112,"props":729,"children":731},{"class":114,"line":730},13,[732,736],{"type":61,"tag":112,"props":733,"children":734},{"style":164},[735],{"type":67,"value":692},{"type":61,"tag":112,"props":737,"children":738},{"style":135},[739],{"type":67,"value":740}," cd src/my-app ; npm run build:development\n",{"type":61,"tag":112,"props":742,"children":744},{"class":114,"line":743},14,[745],{"type":61,"tag":112,"props":746,"children":747},{"emptyLinePlaceholder":610},[748],{"type":67,"value":613},{"type":61,"tag":112,"props":750,"children":752},{"class":114,"line":751},15,[753,757,762,766],{"type":61,"tag":112,"props":754,"children":755},{"style":164},[756],{"type":67,"value":621},{"type":61,"tag":112,"props":758,"children":759},{"style":135},[760],{"type":67,"value":761}," nginx ",{"type":61,"tag":112,"props":763,"children":764},{"style":164},[765],{"type":67,"value":631},{"type":61,"tag":112,"props":767,"children":768},{"style":135},[769],{"type":67,"value":770}," final\n",{"type":61,"tag":112,"props":772,"children":774},{"class":114,"line":773},16,[775],{"type":61,"tag":112,"props":776,"children":777},{"emptyLinePlaceholder":610},[778],{"type":67,"value":613},{"type":61,"tag":112,"props":780,"children":782},{"class":114,"line":781},17,[783],{"type":61,"tag":112,"props":784,"children":785},{"style":601},[786],{"type":67,"value":787},"# bring output from `build` phase\n",{"type":61,"tag":112,"props":789,"children":791},{"class":114,"line":790},18,[792,796],{"type":61,"tag":112,"props":793,"children":794},{"style":164},[795],{"type":67,"value":667},{"type":61,"tag":112,"props":797,"children":798},{"style":135},[799],{"type":67,"value":800}," --from=build src/my-app/.output/public /www/public\n",{"type":61,"tag":112,"props":802,"children":804},{"class":114,"line":803},19,[805],{"type":61,"tag":112,"props":806,"children":807},{"emptyLinePlaceholder":610},[808],{"type":67,"value":613},{"type":61,"tag":112,"props":810,"children":812},{"class":114,"line":811},20,[813],{"type":61,"tag":112,"props":814,"children":815},{"style":601},[816],{"type":67,"value":817},"# use an inline nginx config to serve static files\n",{"type":61,"tag":112,"props":819,"children":821},{"class":114,"line":820},21,[822,826],{"type":61,"tag":112,"props":823,"children":824},{"style":164},[825],{"type":67,"value":692},{"type":61,"tag":112,"props":827,"children":828},{"style":135},[829],{"type":67,"value":830}," cat \u003C\u003CEOF > /etc/nginx/nginx.conf\n",{"type":61,"tag":112,"props":832,"children":834},{"class":114,"line":833},22,[835],{"type":61,"tag":112,"props":836,"children":837},{"style":135},[838],{"type":67,"value":839},"events { }\n",{"type":61,"tag":112,"props":841,"children":843},{"class":114,"line":842},23,[844],{"type":61,"tag":112,"props":845,"children":846},{"style":135},[847],{"type":67,"value":848},"http {\n",{"type":61,"tag":112,"props":850,"children":852},{"class":114,"line":851},24,[853],{"type":61,"tag":112,"props":854,"children":855},{"style":601},[856],{"type":67,"value":857},"  # add output files as root for nginx server\n",{"type":61,"tag":112,"props":859,"children":861},{"class":114,"line":860},25,[862],{"type":61,"tag":112,"props":863,"children":864},{"style":135},[865],{"type":67,"value":866},"  root /www/public;\n",{"type":61,"tag":112,"props":868,"children":870},{"class":114,"line":869},26,[871],{"type":61,"tag":112,"props":872,"children":873},{"emptyLinePlaceholder":610},[874],{"type":67,"value":613},{"type":61,"tag":112,"props":876,"children":878},{"class":114,"line":877},27,[879],{"type":61,"tag":112,"props":880,"children":881},{"style":135},[882],{"type":67,"value":883},"  server {\n",{"type":61,"tag":112,"props":885,"children":887},{"class":114,"line":886},28,[888],{"type":61,"tag":112,"props":889,"children":890},{"style":135},[891],{"type":67,"value":892},"    listen 80;\n",{"type":61,"tag":112,"props":894,"children":896},{"class":114,"line":895},29,[897],{"type":61,"tag":112,"props":898,"children":899},{"emptyLinePlaceholder":610},[900],{"type":67,"value":613},{"type":61,"tag":112,"props":902,"children":904},{"class":114,"line":903},30,[905],{"type":61,"tag":112,"props":906,"children":907},{"style":601},[908],{"type":67,"value":909},"    # include default mime types for js and css files to have proper content\n",{"type":61,"tag":112,"props":911,"children":913},{"class":114,"line":912},31,[914],{"type":61,"tag":112,"props":915,"children":916},{"style":601},[917],{"type":67,"value":918},"    # type\n",{"type":61,"tag":112,"props":920,"children":922},{"class":114,"line":921},32,[923],{"type":61,"tag":112,"props":924,"children":925},{"style":135},[926],{"type":67,"value":927},"    location / {\n",{"type":61,"tag":112,"props":929,"children":931},{"class":114,"line":930},33,[932],{"type":61,"tag":112,"props":933,"children":934},{"style":135},[935],{"type":67,"value":936},"      include /etc/nginx/mime.types;\n",{"type":61,"tag":112,"props":938,"children":940},{"class":114,"line":939},34,[941],{"type":61,"tag":112,"props":942,"children":943},{"style":135},[944],{"type":67,"value":945},"    }\n",{"type":61,"tag":112,"props":947,"children":949},{"class":114,"line":948},35,[950],{"type":61,"tag":112,"props":951,"children":952},{"style":135},[953],{"type":67,"value":954},"  }\n",{"type":61,"tag":112,"props":956,"children":958},{"class":114,"line":957},36,[959],{"type":61,"tag":112,"props":960,"children":961},{"style":135},[962],{"type":67,"value":312},{"type":61,"tag":112,"props":964,"children":966},{"class":114,"line":965},37,[967],{"type":61,"tag":112,"props":968,"children":969},{"style":135},[970],{"type":67,"value":971},"EOF\n",{"type":61,"tag":112,"props":973,"children":975},{"class":114,"line":974},38,[976],{"type":61,"tag":112,"props":977,"children":978},{"emptyLinePlaceholder":610},[979],{"type":67,"value":613},{"type":61,"tag":112,"props":981,"children":983},{"class":114,"line":982},39,[984,989,994],{"type":61,"tag":112,"props":985,"children":986},{"style":164},[987],{"type":67,"value":988},"CMD",{"type":61,"tag":112,"props":990,"children":991},{"style":135},[992],{"type":67,"value":993}," nginx -g ",{"type":61,"tag":112,"props":995,"children":996},{"style":274},[997],{"type":67,"value":998},"\"daemon off;\"\n",{"type":61,"tag":1000,"props":1001,"children":1002},"style",{},[1003],{"type":67,"value":1004},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":54,"searchDepth":12,"depth":12,"links":1006},[1007,1008,1009,1010],{"id":76,"depth":12,"text":35},{"id":189,"depth":12,"text":192},{"id":368,"depth":12,"text":371},{"id":534,"depth":12,"text":537},"markdown","content:spa.md","content","spa.md","md",["Reactive",1017],{},["Set"],["ShallowReactive",1020],{"content-query-IHEGqZI4XK":1021,"content-query-9cX3S5xTRE":1021},null,1728285423372,["Reactive",1024],{}]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:false,h3:false,h4:false,h5:false,h6:true}}},baseUrl:"/learn-nuxt",content:{locales:[],defaultLocale:"",integrity:1728285414634,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"slack-dark",preload:["diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash","dockerfile"],highlighter:"shiki",langs:["js","jsx","json","ts","tsx","vue","css","html","bash","md","mdc","yaml","diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash","dockerfile"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/learn-nuxt",buildId:"9580c879-90f3-480b-806d-5c1a314df28f",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>